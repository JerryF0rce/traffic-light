(window["webpackJsonptraffic-light"]=window["webpackJsonptraffic-light"]||[]).push([[0],{22:function(t,e,n){t.exports=n(35)},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(19),r=n.n(o),l=n(6),s=(n(27),n(9)),c=n(10),h=n(12),g=n(11),u=n(13),m=n(5),d=(n(28),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(h.a)(this,Object(g.a)(e).call(this,t))).transformRoute=function(t){return t.split("-").map((function(t,e){return 1===e?t:t[0].toUpperCase()+t.slice(1)})).join("")},n.setTimer=function(t,e){var a=+n.state.lastTimerID;clearTimeout(a);var i=setTimeout((function(){"/yellow-light"!==t&&sessionStorage.setItem("lastLight","".concat(n.transformRoute(t))),n.props.history.replace(t)}),e);sessionStorage.setItem("lastTimerID","".concat(i))},n.numberUntilNextLight=function(t,e){var a=n.state[t].duration/1e3,i=document.querySelector(".".concat(t)).children[0];i.textContent=a-1;var o=setInterval((function(){i.textContent=a-2,4===--a&&e.classList.add("hightlight"),0===a&&(clearInterval(o),e.classList.remove("hightlight"))}),1e3)},n.goToRandomLight=function(t){var e=["/green-light","/red-light"],a=Math.floor(2*Math.random());sessionStorage.setItem("lastLight",n.transformRoute(e[a])),n.setTimer(e[a],n.state[t].duration)},n.goToYellowLight=function(t){"/yellow-light"!==n.state.currentLightRoute&&n.setTimer("/yellow-light",n.state[t].duration)},n.goToRedLight=function(t){n.setTimer("/red-light",n.state[t].duration)},n.goToGreenLight=function(t){n.setTimer("/green-light",n.state[t].duration)},n.state={currentLightRoute:n.props.history.location.pathname,redLight:{duration:1e4,blinkingDuration:3e3},yellowLight:{duration:3e3},greenLight:{duration:15e3,blinkingDuration:3e3},lastLight:sessionStorage.getItem("lastLight")||"",lastTimerID:sessionStorage.getItem("lastTimerID")||""},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.transformRoute(this.state.currentLightRoute),e=document.querySelector(".".concat(t));"yellowLight"!==t&&(sessionStorage.setItem("lastLight",t),this.numberUntilNextLight(t,e)),this.goToYellowLight(t),"yellowLight"!==t||this.state.lastLight||this.goToRandomLight(t),"yellowLight"===t&&"greenLight"===this.state.lastLight&&this.goToRedLight(t),"yellowLight"===t&&"redLight"===this.state.lastLight&&this.goToGreenLight(t),e.classList.add("activeLights")}},{key:"render",value:function(){return i.a.createElement("div",{className:"trafficLight"},i.a.createElement("div",{className:"light redLight"},i.a.createElement("div",{className:"timer"})),i.a.createElement("div",{className:"light yellowLight"}),i.a.createElement("div",{className:"light greenLight"},i.a.createElement("div",{className:"timer"})))}}]),e}(a.Component)),L=(n(29),function(){return i.a.createElement("header",null,i.a.createElement("div",{className:"container"},i.a.createElement(l.b,{to:"/red-light"},"Go to: /red-light"),i.a.createElement(l.b,{to:"/yellow-light"},"Go to: /yellow-light"),i.a.createElement(l.b,{to:"/green-light"},"Go to: /green-light")))}),f=function(t){function e(){return Object(s.a)(this,e),Object(h.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m.a,{path:"/",component:L}),i.a.createElement(m.a,{path:"/red-light",component:d}),i.a.createElement(m.a,{path:"/yellow-light",component:d}),i.a.createElement(m.a,{path:"/green-light",component:d}))}}]),e}(a.Component);r.a.render(i.a.createElement(l.a,null," ",i.a.createElement(f,null)," "),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.3d5a5910.chunk.js.map