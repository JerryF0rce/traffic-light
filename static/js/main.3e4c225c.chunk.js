(window["webpackJsonptraffic-light"]=window["webpackJsonptraffic-light"]||[]).push([[0],{22:function(t,e,n){t.exports=n(35)},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(19),r=n.n(o),l=n(14),s=(n(27),n(8)),c=n(9),h=n(11),g=n(10),u=n(12),m=n(5),d=(n(28),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(h.a)(this,Object(g.a)(e).call(this,t))).transformRoute=function(t){return t.split("-").map((function(t,e){return 0===e?t.slice(1):t[0].toUpperCase()+t.slice(1)})).join("")},n.goToYellowLight=function(t,e){var a=n.state[t].duration/1e3,i=null,o=null;"yellowLight"!==t&&((i=document.querySelector(".".concat(t)).children[0]).textContent=a-1,o=setInterval((function(){i.textContent=a-2,4===--a&&e.classList.add("hightlight"),0===a&&e.classList.remove("hightlight")}),1e3)),setTimeout((function(){clearInterval(o),n.props.history.replace("/yellow-light")}),n.state[t].duration)},n.goToRandomLight=function(t){var e=["/green-light","/red-light"],a=Math.floor(2*Math.random());sessionStorage.setItem("lastLight",n.transformRoute(e[a])),setTimeout((function(){n.props.history.replace(e[a])}),n.state[t].duration)},n.goToRedLight=function(t){setTimeout((function(){sessionStorage.setItem("lastLight","redLight"),n.props.history.replace("/red-light")}),n.state[t].duration)},n.goToGreenLight=function(t){setTimeout((function(){sessionStorage.setItem("lastLight","greenLight"),n.props.history.replace("/green-light")}),n.state[t].duration)},n.state={redLight:{duration:1e4,blinkingDuration:3e3},yellowLight:{duration:3e3},greenLight:{duration:15e3,blinkingDuration:3e3},lastLight:sessionStorage.getItem("lastLight")||""},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.history.location.pathname,e=this.transformRoute(t),n=document.querySelector(".".concat(e));"yellowLight"!==e&&sessionStorage.setItem("lastLight",e),this.goToYellowLight(e,n),"yellowLight"!==e||this.state.lastLight||this.goToRandomLight(e),"yellowLight"===e&&"greenLight"===this.state.lastLight&&this.goToRedLight(e),"yellowLight"===e&&"redLight"===this.state.lastLight&&this.goToGreenLight(e),n.classList.add("activeLights")}},{key:"render",value:function(){return i.a.createElement("div",{className:"trafficLight"},i.a.createElement("div",{className:"light redLight"},i.a.createElement("div",{className:"timer"})),i.a.createElement("div",{className:"light yellowLight"}),i.a.createElement("div",{className:"light greenLight"},i.a.createElement("div",{className:"timer"})))}}]),e}(a.Component)),p=(n(29),function(){return i.a.createElement("header",null,i.a.createElement("div",{className:"container"},i.a.createElement("a",{href:"/red-light"},"Go to: /red-light"),i.a.createElement("a",{href:"/yellow-light"},"Go to: /yellow-light"),i.a.createElement("a",{href:"/green-light"},"Go to: /green-light")))}),f=function(t){function e(){return Object(s.a)(this,e),Object(h.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m.a,{path:"/",component:p}),i.a.createElement(m.a,{path:"/red-light",component:d}),i.a.createElement(m.a,{path:"/yellow-light",component:d}),i.a.createElement(m.a,{path:"/green-light",component:d}))}}]),e}(a.Component);r.a.render(i.a.createElement(l.a,null," ",i.a.createElement(f,null)," "),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.3e4c225c.chunk.js.map